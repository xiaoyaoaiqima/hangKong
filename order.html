<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
    />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>SamLin Order</title>
    <link rel="icon" href="./assets/飞机.png" type="image/x-icon" />
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="bootstrap.min.css" />
  </head>
  <style>
    .introduce {
      background: lightcyan;
    }

    .commit {
      background: lightblue;
    }

    .select_table {
      background: lightgrey;
    }
  </style>
  <body>
    <!--  导航栏-->
    <nav
      class="navbar navbar-expand-md bg-dark navbar-dark p-3 fixed-top opacity-75"
    >
      <a href="#" class="navbar-brand text-uppercase">Samlin Aviation</a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navmenu"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navmenu">
        <ul class="navbar-nav text-uppercase">
          <li class="nav-item">
            <a class="nav-link" href="index.html">home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="order.html">order</a>
          </li>
          <li class="nav-item">
            <div class="nav-link">about</div>
          </li>
          <li class="nav-item">
            <div class="nav-link">more</div>
          </li>
          <li class="nav-item">
            <div class="nav-link">other</div>
          </li>
        </ul>
      </div>
    </nav>
    <section class="introduce p-5">
      <!--        轮播图-->
      <div class="container">
        <div class="w-100 h-100">
          <div id="carouselExampleIndicators" class="carousel slide">
            <div class="carousel-indicators">
              <button
                type="button"
                data-bs-target="#carouselExampleIndicators"
                data-bs-slide-to="0"
                class="active"
                aria-current="true"
                aria-label="Slide 1"
              ></button>
              <button
                type="button"
                data-bs-target="#carouselExampleIndicators"
                data-bs-slide-to="1"
                aria-label="Slide 2"
              ></button>
              <button
                type="button"
                data-bs-target="#carouselExampleIndicators"
                data-bs-slide-to="2"
                aria-label="Slide 3"
              ></button>
            </div>
            <div class="carousel-inner w-100">
              <div class="carousel-item active">
                <img
                  src="https://cdn.pixabay.com/photo/2020/03/12/06/35/jinshan-company-4924058_640.jpg"
                  class="d-block w-100 h-100"
                  alt="..."
                />
                <div
                  class="carousel-caption d-none d-md-block bg-dark opacity-75"
                >
                  <h3>Gold Package</h3>
                  <p>
                    Some representative placeholder content for the second
                    slide.
                  </p>
                </div>
              </div>
              <div class="carousel-item">
                <img
                  src="https://cdn.pixabay.com/photo/2020/06/02/06/29/ryanair-5249631_640.jpg"
                  class="d-block w-100 h-100"
                  alt="..."
                />
                <div
                  class="carousel-caption d-none d-md-block bg-dark opacity-75"
                >
                  <h3>Silver Package</h3>
                  <p>
                    Some representative placeholder content for the second
                    slide.
                  </p>
                </div>
              </div>
              <div class="carousel-item">
                <img
                  src="https://cdn.pixabay.com/photo/2022/04/23/10/11/ksour-7151474_640.jpg"
                  class="d-block w-100 h-100"
                  alt="..."
                />
                <div
                  class="carousel-caption d-none d-md-block bg-dark opacity-75"
                >
                  <h3>Diamond Package</h3>
                  <p>
                    Some representative placeholder content for the second
                    slide.
                  </p>
                </div>
              </div>
            </div>
            <button
              class="carousel-control-prev"
              type="button"
              data-bs-target="#carouselExampleIndicators"
              data-bs-slide="prev"
            >
              <span
                class="carousel-control-prev-icon"
                aria-hidden="true"
              ></span>
              <span class="visually-hidden">Previous</span>
            </button>
            <button
              class="carousel-control-next"
              type="button"
              data-bs-target="#carouselExampleIndicators"
              data-bs-slide="next"
            >
              <span
                class="carousel-control-next-icon"
                aria-hidden="true"
              ></span>
              <span class="visually-hidden">Next</span>
            </button>
          </div>
        </div>
      </div>
    </section>

    <!--    订单-->
    <section class="commit p-5">
      <div>
        <div class="row g-3">
          <h3 class="text-md-center">Price Calculate</h3>
          <!--                radio选择项目-->
          <div class="col-md-12">
            <div class="container">
              <div class="d-flex justify-content-md-evenly">
                <div class="form-check">
                  <input
                    class="form-check-input radio"
                    type="radio"
                    name="options"
                    id="inlineRadio1"
                    value="Gold"
                  />
                  <label class="form-check-label" for="inlineRadio1"
                    >Gold</label
                  >
                </div>
                <div class="form-check">
                  <input
                    class="form-check-input radio"
                    type="radio"
                    name="options"
                    id="inlineRadio2"
                    value="Silver"
                  />
                  <label class="form-check-label" for="inlineRadio2"
                    >Silver</label
                  >
                </div>
                <div class="form-check">
                  <input
                    class="form-check-input radio"
                    type="radio"
                    name="options"
                    id="inlineRadio3"
                    value="Diamond"
                  />
                  <label class="form-check-label" for="inlineRadio3"
                    >Diamond</label
                  >
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="mb-3">
              <label for="ChildNum" class="form-label">ChildNum</label>
              <input
                type="number"
                class="form-control"
                id="ChildNum"
                pattern="\d+"
                placeholder="0"
                oninput="validateInput()"
                required
              />
            </div>
          </div>
          <div class="col-md-6">
            <div class="mb-3">
              <label for="PersonNum" class="form-label">PersonNum</label>
              <input
                type="number"
                class="form-control"
                id="PersonNum"
                pattern="\d+"
                placeholder="0"
                oninput="validateInput()"
                required
              />
            </div>
          </div>
          <div class="col-md-12">
            <div class="d-flex justify-content-md-between">
              <button
                class="btn btn-primary w-25"
                style="margin-top: 8px"
                onclick="CheckInput()"
              >
                Check
              </button>
              <div class="fs-3 w-50">
                <div class="text-uppercase">
                  sum total:
                  <span
                    class="text-bg-warning text-decoration-underline"
                    id="sumTotal"
                    >&#129409;</span
                  >
                </div>
              </div>
            </div>
          </div>
          <h3 class="text-md-center mt-4">Send Message To Us</h3>
          <div class="col-md-6">
            <div class="mb-3">
              <label for="FullName" class="form-label">FullName</label>
              <input
                type="email"
                class="form-control"
                id="FullName"
                placeholder="name"
              />
            </div>
          </div>
          <div class="col-md-6">
            <div class="mb-3">
              <label for="EmailAddress" class="form-label">EmailAddress</label>
              <input
                type="email"
                class="form-control"
                id="EmailAddress"
                placeholder="name@example.com"
              />
            </div>
          </div>
          <div class="col-md-6">
            <div class="mb-3">
              <label for="TelNum" class="form-label">TelNum</label>
              <input
                type="email"
                class="form-control"
                id="TelNum"
                placeholder="phoneNum"
              />
            </div>
          </div>
          <div class="col-md-6">
            <div class="mb-3">
              <label for="Messages" class="form-label">Messages</label>
              <input
                type="email"
                class="form-control"
                id="Messages"
                placeholder="Messages"
              />
            </div>
          </div>
          <div class="col-md-12">
            <div class="mb-3">
              <label for="ExtraText" class="form-label">ExtraText</label>
              <textarea class="form-control" id="ExtraText" rows="3"></textarea>
            </div>
          </div>
          <div class="col-md-12">
            <div class="mb-3 d-flex justify-content-center">
              <button
                class="btn btn-outline-primary w-50"
                onclick="handleSend()"
              >
                SEND
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="select_table"></section>

    <footer class="bg-dark text-white text-center fixed-bottom opacity-75">
      <p class="lead">
        Copyright &copy; 2024
        <span class="text-uppercase">samlin aviation</span>
      </p>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      var sumTotal = 0;
      // document.getElementById("sumTotal").textContent = sumTotal.toString();
      const radios = document.getElementsByClassName("radio");
      function validateInput() {
        let input = document.getElementById("PersonNum");
        if (input.value <= 0) {
          input.value = "";
        }
      }
      function handleSend() {
        // 获取所有输入框的引用
        var fullNameInput = document.getElementById("FullName");
        var emailAddressInput = document.getElementById("EmailAddress");
        var telNumInput = document.getElementById("TelNum");
        var messagesInput = document.getElementById("Messages");
        var extraTextInput = document.getElementById("ExtraText");

        // 清空输入框的值
        fullNameInput.value = "";
        emailAddressInput.value = "";
        telNumInput.value = "";
        messagesInput.value = "";
        extraTextInput.value = "";

        // 显示成功发送的弹窗提示
        alert("success send!!");
      }

      function CheckInput() {
        let PersonNum = document.getElementById("PersonNum").value;
        let ChildNum = document.getElementById("ChildNum").value;
        let selectedPackageValue;
        for (let i = 0; i < radios.length; i++) {
          if (radios[i].checked) {
            selectedPackageValue = radios[i].value;
            break; // 只需获取选中的值，因此可以终止循环
          }
        }
        var data = new URLSearchParams();
        data.append("package", selectedPackageValue);
        data.append("num1", PersonNum);
        data.append("num2", ChildNum);
        // 发送
        fetch("http://localhost:3000/test.php", {
          method: "POST",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: data,
        })
          .then((response) => response.text())
          .then((data) => {
            document.getElementById("sumTotal").innerHTML = data;
          })
          .catch((error) => {
            console.error("Error:", error);
          });
      }
    </script>
  </body>
</html>
